function insertNewReview(reviewContent) {
  const reviewList = document.getElementById("reviews-list"); 
  reviewList.insertAdjacentHTML("beforeend", `<li>${reviewContent}</li>`);
}

function refreshForm(formHTML) {
  const reviewForm = document.getElementById("review-form");
  reviewForm.innerHTML = formHTML;
}

<% if @review.persisted? %>
  insertNewReview("<%= @review.content %>");
  refreshForm("<%= j render("reviews/form", restaurant: @restaurant, review: Review.new) %>");
<% else %>
  refreshForm("<%= j render("reviews/form", restaurant: @restaurant, review: @review) %>");
<% end %>